{let t=this,d=document,Q='querySelector',A='addEventListener',T='targets';t.query=(s,b=d)=>b[Q](s);t.queryAll=(s,b=d)=>s===s.toString()?[...b[Q+'All'](s)]:s.length?[...s]:[s];t.addEvent=(x,n,f,c)=>queryAll(x).map(x=>x[A](n,f,!!c));t.addDelegation=(o)=>queryAll(o.parents).map(p=>p[A](o.type,(e)=>{let r=e.target;r.matches(o[T])&&o.listener.call(r,e);r.matches(o[T]+' *')&&o.listener.call(r.closest(o[T]),e)}));t.loaded=f=>t[A]('load',f)}